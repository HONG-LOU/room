import{v as Pt,d as Wt,x as Rt,q as Lt,e as ht,w as yt,k as J,f as V,c as Q,y as U,u as Dt,b as _t,o as q,z as Bt,p as Xt,j as Vt}from"./index-CplolMp0.js";import{r as Yt}from"./request-IMNDnQFT.js";import{c as Gt,S as xt,C as St,u as Mt,i as Ht,a as qt,b as Zt,d as Nt,e as $t,Z as Qt,f as Ut,r as jt,g as Jt,h as Kt,j as bt,k as te,l as ee,m as ae,_ as j}from"./Echarts.vue_vue_type_script_setup_true_lang-C15Pbvov.js";import{_ as ie}from"./_plugin-vue_export-helper-DlAUqK2U.js";const re=Pt("View",{state:()=>({total_price_list:[],single_price_list:[],view_num_list:[],echarts_show:!1,house_Type_list:[],type_view__num:[],toward_list:[],decoration_list:[],building_type_list:[]}),actions:{exit(l){l.push("/home/houseView")},async get_map_data(){const l={Authorization:localStorage.getItem("token")},e=await(await Yt.get("/app/houseview/",{headers:l})).data;if(e.code===200){for(let r in e.data.area_Analysis){const t={},g={},u={};t.name=e.data.area_Analysis[r].city,t.value=Math.round(e.data.area_Analysis[r].total_price),g.name=e.data.area_Analysis[r].city,g.value=Math.round(e.data.area_Analysis[r].single_price),u.name=e.data.area_Analysis[r].city,u.value=e.data.area_Analysis[r].view_num,this.total_price_list.push(t),this.single_price_list.push(g),this.view_num_list.push(u)}for(let r in e.data.house_type_Analysis)this.house_Type_list.push(e.data.house_type_Analysis[r].house_type),this.type_view__num.push(e.data.house_type_Analysis[r].view_num);for(let r in e.data.toward_Analysis){const t={};t.name=e.data.toward_Analysis[r].toward,t.value=e.data.toward_Analysis[r].toward_num,this.toward_list.push(t)}for(let r in e.data.decoration_Analysis){const t={};t.name=e.data.decoration_Analysis[r].decoration,t.value=Math.round(e.data.decoration_Analysis[r].single_price),this.decoration_list.push(t)}for(let r in e.data.building_type_Analysis){const t={};t.name=e.data.building_type_Analysis[r].building_type,t.value=Math.round(e.data.building_type_Analysis[r].total_price),this.building_type_list.push(t)}}this.echarts_show=!0}}});function ft(l,i){return i=i||{},Gt(l,null,null,i.state!=="normal")}function oe(l){var i=xt.extend(l);return xt.registerClass(i),i}function ne(l){var i=St.extend(l);return St.registerClass(i),i}Mt([Ht,qt]);Mt(Zt);oe({type:"series.wordCloud",visualStyleAccessPath:"textStyle",visualStyleMapper:function(l){return{fill:l.get("color")}},visualDrawType:"fill",optionUpdated:function(){var l=this.option;l.gridSize=Math.max(Math.floor(l.gridSize),4)},getInitialData:function(l,i){var e=Nt(l.data,{coordDimensions:["value"]}),r=new $t(e,this);return r.initData(l.data),r},defaultOption:{maskImage:null,shape:"circle",keepAspect:!1,left:"center",top:"center",width:"70%",height:"80%",sizeRange:[12,60],rotationRange:[-90,90],rotationStep:45,gridSize:8,drawOutOfBound:!1,shrinkToFit:!1,textStyle:{fontWeight:"normal"}}});ne({type:"wordCloud",render:function(l,i,e){var r=this.group;r.removeAll();var t=l.getData(),g=l.get("gridSize");l.layoutInstance.ondraw=function(u,o,x,b){var A=t.getItemModel(x),W=A.getModel("textStyle"),w=new Qt({style:ft(W),scaleX:1/b.info.mu,scaleY:1/b.info.mu,x:(b.gx+b.info.gw/2)*g,y:(b.gy+b.info.gh/2)*g,rotation:b.rot});w.setStyle({x:b.info.fillTextOffsetX,y:b.info.fillTextOffsetY+o*.5,text:u,verticalAlign:"middle",fill:t.getItemVisual(x,"style").fill,fontSize:o}),r.add(w),t.setItemGraphicEl(x,w),w.ensureState("emphasis").style=ft(A.getModel(["emphasis","textStyle"]),{state:"emphasis"}),w.ensureState("blur").style=ft(A.getModel(["blur","textStyle"]),{state:"blur"}),Ut(w,A.get(["emphasis","focus"]),A.get(["emphasis","blurScope"])),w.stateTransition={duration:l.get("animation")?l.get(["stateAnimation","duration"]):0,easing:l.get(["stateAnimation","easing"])},w.__highDownDispatcher=!0},this._model=l},remove:function(){this.group.removeAll(),this._model.layoutInstance.dispose()},dispose:function(){this._model.layoutInstance.dispose()}});/*!
 * wordcloud2.js
 * http://timdream.org/wordcloud2.js/
 *
 * Copyright 2011 - 2019 Tim Guan-tin Chien and contributors.
 * Released under the MIT license
 */window.setImmediate||(window.setImmediate=function(){return window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var e=[void 0],r="zero-timeout-message",t=function(u){var o=e.length;return e.push(u),window.postMessage(r+o.toString(36),"*"),o};return window.addEventListener("message",function(u){if(!(typeof u.data!="string"||u.data.substr(0,r.length)!==r)){u.stopImmediatePropagation();var o=parseInt(u.data.substr(r.length),36);e[o]&&(e[o](),e[o]=void 0)}},!0),window.clearImmediate=function(u){e[u]&&(e[u]=void 0)},t}()||function(e){window.setTimeout(e,0)}}());window.clearImmediate||(window.clearImmediate=function(){return window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(e){window.clearTimeout(e)}}());var mt=function(){var i=document.createElement("canvas");if(!i||!i.getContext)return!1;var e=i.getContext("2d");return!(!e||!e.getImageData||!e.fillText||!Array.prototype.some||!Array.prototype.push)}(),ct=function(){if(mt){for(var i=document.createElement("canvas").getContext("2d"),e=20,r,t;e;){if(i.font=e.toString(10)+"px sans-serif",i.measureText("Ｗ").width===r&&i.measureText("m").width===t)return e+1;r=i.measureText("Ｗ").width,t=i.measureText("m").width,e--}return 0}}(),se=function(l){if(Array.isArray(l)){var i=l.slice();return i.splice(0,2),i}else return[]},le=function(i){for(var e,r,t=i.length;t;)e=Math.floor(Math.random()*t),r=i[--t],i[t]=i[e],i[e]=r;return i},Z={},et=function(i,e){if(!mt)return;var r=Math.floor(Math.random()*Date.now());Array.isArray(i)||(i=[i]),i.forEach(function(c,a){if(typeof c=="string"){if(i[a]=document.getElementById(c),!i[a])throw new Error("The element id specified is not found.")}else if(!c.tagName&&!c.appendChild)throw new Error("You must pass valid HTML elements, or ID of the element.")});var t={list:[],fontFamily:'"Trebuchet MS", "Heiti TC", "微軟正黑體", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",minSize:0,weightFactor:1,clearCanvas:!0,backgroundColor:"#fff",gridSize:8,drawOutOfBound:!1,shrinkToFit:!1,origin:null,drawMask:!1,maskColor:"rgba(255,0,0,0.3)",maskGapWidth:.3,layoutAnimation:!0,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotationStep:.1,shuffle:!0,rotateRatio:.1,shape:"circle",ellipticity:.65,classes:null,hover:null,click:null};if(e)for(var g in e)g in t&&(t[g]=e[g]);if(typeof t.weightFactor!="function"){var u=t.weightFactor;t.weightFactor=function(a){return a*u}}if(typeof t.shape!="function")switch(t.shape){case"circle":default:t.shape="circle";break;case"cardioid":t.shape=function(a){return 1-Math.sin(a)};break;case"diamond":t.shape=function(a){var n=a%(2*Math.PI/4);return 1/(Math.cos(n)+Math.sin(n))};break;case"square":t.shape=function(a){return Math.min(1/Math.abs(Math.cos(a)),1/Math.abs(Math.sin(a)))};break;case"triangle-forward":t.shape=function(a){var n=a%(2*Math.PI/3);return 1/(Math.cos(n)+Math.sqrt(3)*Math.sin(n))};break;case"triangle":case"triangle-upright":t.shape=function(a){var n=(a+Math.PI*3/2)%(2*Math.PI/3);return 1/(Math.cos(n)+Math.sqrt(3)*Math.sin(n))};break;case"pentagon":t.shape=function(a){var n=(a+.955)%(2*Math.PI/5);return 1/(Math.cos(n)+.726543*Math.sin(n))};break;case"star":t.shape=function(a){var n=(a+.955)%(2*Math.PI/10);return(a+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-n)+3.07768*Math.sin(2*Math.PI/10-n)):1/(Math.cos(n)+3.07768*Math.sin(n))};break}t.gridSize=Math.max(Math.floor(t.gridSize),4);var o=t.gridSize,x=o-t.maskGapWidth,b=Math.abs(t.maxRotation-t.minRotation),A=Math.min(t.maxRotation,t.minRotation),W=t.rotationStep,w,k,E,B,F,R,Y;function gt(c,a){return"hsl("+(Math.random()*360).toFixed()+","+(Math.random()*30+70).toFixed()+"%,"+(Math.random()*(a-c)+c).toFixed()+"%)"}switch(t.color){case"random-dark":Y=function(){return gt(10,50)};break;case"random-light":Y=function(){return gt(50,90)};break;default:typeof t.color=="function"&&(Y=t.color);break}var N;typeof t.fontWeight=="function"&&(N=t.fontWeight);var at=null;typeof t.classes=="function"&&(at=t.classes);var it=!1,K=[],rt,vt=function(a){var n=a.currentTarget,s=n.getBoundingClientRect(),h,d;a.touches?(h=a.touches[0].clientX,d=a.touches[0].clientY):(h=a.clientX,d=a.clientY);var f=h-s.left,M=d-s.top,v=Math.floor(f*(n.width/s.width||1)/o),p=Math.floor(M*(n.height/s.height||1)/o);return K[v]?K[v][p]:null},pt=function(a){var n=vt(a);if(rt!==n){if(rt=n,!n){t.hover(void 0,void 0,a);return}t.hover(n.item,n.dimension,a)}},ot=function(a){var n=vt(a);n&&(t.click(n.item,n.dimension,a),a.preventDefault())},nt=[],Tt=function(a){if(nt[a])return nt[a];var n=a*8,s=n,h=[];for(a===0&&h.push([B[0],B[1],0]);s--;){var d=1;t.shape!=="circle"&&(d=t.shape(s/n*2*Math.PI)),h.push([B[0]+a*d*Math.cos(-s/n*2*Math.PI),B[1]+a*d*Math.sin(-s/n*2*Math.PI)*t.ellipticity,s/n*2*Math.PI])}return nt[a]=h,h},st=function(){return t.abortThreshold>0&&new Date().getTime()-R>t.abortThreshold},kt=function(){return t.rotateRatio===0||Math.random()>t.rotateRatio?0:b===0?A:A+Math.round(Math.random()*b/W)*W},It=function(a,n,s,h){var d=t.weightFactor(n);if(d<=t.minSize)return!1;var f=1;d<ct&&(f=function(){for(var ut=2;ut*d<ct;)ut+=2;return ut}());var M;N?M=N(a,n,d,h):M=t.fontWeight;var v=document.createElement("canvas"),p=v.getContext("2d",{willReadFrequently:!0});p.font=M+" "+(d*f).toString(10)+"px "+t.fontFamily;var z=p.measureText(a).width/f,y=Math.max(d*f,p.measureText("m").width,p.measureText("Ｗ").width)/f,_=z+y*2,I=y*3,O=Math.ceil(_/o),P=Math.ceil(I/o);_=O*o,I=P*o;var T=-z/2,m=-y*.4,S=Math.ceil((_*Math.abs(Math.sin(s))+I*Math.abs(Math.cos(s)))/o),C=Math.ceil((_*Math.abs(Math.cos(s))+I*Math.abs(Math.sin(s)))/o),L=C*o,H=S*o;v.setAttribute("width",L),v.setAttribute("height",H),p.scale(1/f,1/f),p.translate(L*f/2,H*f/2),p.rotate(-s),p.font=M+" "+(d*f).toString(10)+"px "+t.fontFamily,p.fillStyle="#000",p.textBaseline="middle",p.fillText(a,T*f,(m+d*.5)*f);var tt=p.getImageData(0,0,L,H).data;if(st())return!1;for(var wt=[],G=C,X,lt,dt,D=[S/2,C/2,S/2,C/2];G--;)for(X=S;X--;){dt=o;t:for(;dt--;)for(lt=o;lt--;)if(tt[((X*o+dt)*L+(G*o+lt))*4+3]){wt.push([G,X]),G<D[3]&&(D[3]=G),G>D[1]&&(D[1]=G),X<D[0]&&(D[0]=X),X>D[2]&&(D[2]=X);break t}}return{mu:f,occupied:wt,bounds:D,gw:C,gh:S,fillTextOffsetX:T,fillTextOffsetY:m,fillTextWidth:z,fillTextHeight:y,fontSize:d}},Ct=function(a,n,s,h,d){for(var f=d.length;f--;){var M=a+d[f][0],v=n+d[f][1];if(M>=k||v>=E||M<0||v<0){if(!t.drawOutOfBound)return!1;continue}if(!w[M][v])return!1}return!0},At=function(a,n,s,h,d,f,M,v,p,z){var y=s.fontSize,_;Y?_=Y(h,d,y,f,M,z):_=t.color;var I;N?I=N(h,d,y,z):I=t.fontWeight;var O;at?O=at(h,d,y,z):O=t.classes,i.forEach(function(P){if(P.getContext){var T=P.getContext("2d"),m=s.mu;T.save(),T.scale(1/m,1/m),T.font=I+" "+(y*m).toString(10)+"px "+t.fontFamily,T.fillStyle=_,T.translate((a+s.gw/2)*o*m,(n+s.gh/2)*o*m),v!==0&&T.rotate(-v),T.textBaseline="middle",T.fillText(h,s.fillTextOffsetX*m,(s.fillTextOffsetY+y*.5)*m),T.restore()}else{var S=document.createElement("span"),C="";C="rotate("+-v/Math.PI*180+"deg) ",s.mu!==1&&(C+="translateX(-"+s.fillTextWidth/4+"px) scale("+1/s.mu+")");var L={position:"absolute",display:"block",font:I+" "+y*s.mu+"px "+t.fontFamily,left:(a+s.gw/2)*o+s.fillTextOffsetX+"px",top:(n+s.gh/2)*o+s.fillTextOffsetY+"px",width:s.fillTextWidth+"px",height:s.fillTextHeight+"px",lineHeight:y+"px",whiteSpace:"nowrap",transform:C,webkitTransform:C,msTransform:C,transformOrigin:"50% 40%",webkitTransformOrigin:"50% 40%",msTransformOrigin:"50% 40%"};_&&(L.color=_),S.textContent=h;for(var H in L)S.style[H]=L[H];if(p)for(var tt in p)S.setAttribute(tt,p[tt]);O&&(S.className+=O),P.appendChild(S)}})},Et=function(a,n,s,h,d){if(!(a>=k||n>=E||a<0||n<0)){if(w[a][n]=!1,s){var f=i[0].getContext("2d");f.fillRect(a*o,n*o,x,x)}it&&(K[a][n]={item:d,dimension:h})}},Ft=function(a,n,s,h,d,f){var M=d.occupied,v=t.drawMask,p;v&&(p=i[0].getContext("2d"),p.save(),p.fillStyle=t.maskColor);var z;if(it){var y=d.bounds;z={x:(a+y[3])*o,y:(n+y[0])*o,w:(y[1]-y[3]+1)*o,h:(y[2]-y[0]+1)*o}}for(var _=M.length;_--;){var I=a+M[_][0],O=n+M[_][1];I>=k||O>=E||I<0||O<0||Et(I,O,v,z,f)}v&&p.restore()},zt=function c(a,n){if(n>20)return null;var s,h,d;Array.isArray(a)?(s=a[0],h=a[1]):(s=a.word,h=a.weight,d=a.attributes);var f=kt(),M=se(a),v=It(s,h,f,M);if(!v||st())return!1;if(!t.drawOutOfBound&&!t.shrinkToFit){var p=v.bounds;if(p[1]-p[3]+1>k||p[2]-p[0]+1>E)return!1}for(var z=F+1,y=function(P){var T=Math.floor(P[0]-v.gw/2),m=Math.floor(P[1]-v.gh/2),S=v.gw,C=v.gh;return Ct(T,m,S,C,v.occupied)?(At(T,m,v,s,h,F-z,P[2],f,d,M),Ft(T,m,S,C,v,a),{gx:T,gy:m,rot:f,info:v}):!1};z--;){var _=Tt(F-z);t.shuffle&&(_=[].concat(_),le(_));for(var I=0;I<_.length;I++){var O=y(_[I]);if(O)return O}}return t.shrinkToFit?(Array.isArray(a)?a[1]=a[1]*3/4:a.weight=a.weight*3/4,c(a,n+1)):null},$=function(a,n,s){if(n)return!i.some(function(h){var d=new CustomEvent(a,{detail:s||{}});return!h.dispatchEvent(d)},this);i.forEach(function(h){var d=new CustomEvent(a,{detail:s||{}});h.dispatchEvent(d)},this)},Ot=function(){var a=i[0];if(a.getContext)k=Math.ceil(a.width/o),E=Math.ceil(a.height/o);else{var n=a.getBoundingClientRect();k=Math.ceil(n.width/o),E=Math.ceil(n.height/o)}if($("wordcloudstart",!0)){B=t.origin?[t.origin[0]/o,t.origin[1]/o]:[k/2,E/2],F=Math.floor(Math.sqrt(k*k+E*E)),w=[];var s,h,d;if(!a.getContext||t.clearCanvas)for(i.forEach(function(m){if(m.getContext){var S=m.getContext("2d");S.fillStyle=t.backgroundColor,S.clearRect(0,0,k*(o+1),E*(o+1)),S.fillRect(0,0,k*(o+1),E*(o+1))}else m.textContent="",m.style.backgroundColor=t.backgroundColor,m.style.position="relative"}),s=k;s--;)for(w[s]=[],h=E;h--;)w[s][h]=!0;else{var f=document.createElement("canvas").getContext("2d");f.fillStyle=t.backgroundColor,f.fillRect(0,0,1,1);var M=f.getImageData(0,0,1,1).data,v=a.getContext("2d").getImageData(0,0,k*o,E*o).data;s=k;for(var p,z;s--;)for(w[s]=[],h=E;h--;){z=o;t:for(;z--;)for(p=o;p--;)for(d=4;d--;)if(v[((h*o+z)*k*o+(s*o+p))*4+d]!==M[d]){w[s][h]=!1;break t}w[s][h]!==!1&&(w[s][h]=!0)}v=f=M=void 0}if(t.hover||t.click){for(it=!0,s=k+1;s--;)K[s]=[];t.hover&&a.addEventListener("mousemove",pt),t.click&&(a.addEventListener("click",ot),a.addEventListener("touchstart",ot),a.addEventListener("touchend",function(m){m.preventDefault()}),a.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)"),a.addEventListener("wordcloudstart",function m(){a.removeEventListener("wordcloudstart",m),a.removeEventListener("mousemove",pt),a.removeEventListener("click",ot),rt=void 0})}d=0;var y,_,I=!0;t.layoutAnimation?t.wait!==0?(y=window.setTimeout,_=window.clearTimeout):(y=window.setImmediate,_=window.clearImmediate):(y=function(m){m()},_=function(){I=!1});var O=function(S,C){i.forEach(function(L){L.addEventListener(S,C)},this)},P=function(S,C){i.forEach(function(L){L.removeEventListener(S,C)},this)},T=function m(){P("wordcloudstart",m),_(Z[r])};O("wordcloudstart",T),Z[r]=(t.layoutAnimation?y:setTimeout)(function m(){if(I){if(d>=t.list.length){_(Z[r]),$("wordcloudstop",!1),P("wordcloudstart",T),delete Z[r];return}R=new Date().getTime();var S=zt(t.list[d],0),C=!$("wordclouddrawn",!0,{item:t.list[d],drawn:S});if(st()||C){_(Z[r]),t.abort(),$("wordcloudabort",!1),$("wordcloudstop",!1),P("wordcloudstart",T);return}d++,Z[r]=y(m,t.wait)}},t.wait)}};Ot()};et.isSupported=mt;et.minFontSize=ct;if(!et.isSupported)throw new Error("Sorry your browser not support wordCloud");function de(l){for(var i=l.getContext("2d"),e=i.getImageData(0,0,l.width,l.height),r=i.createImageData(e),t=0,g=0,u=0;u<e.data.length;u+=4){var o=e.data[u+3];if(o>128){var x=e.data[u]+e.data[u+1]+e.data[u+2];t+=x,++g}}for(var b=t/g,u=0;u<e.data.length;u+=4){var x=e.data[u]+e.data[u+1]+e.data[u+2],o=e.data[u+3];o<128||x>b?(r.data[u]=0,r.data[u+1]=0,r.data[u+2]=0,r.data[u+3]=0):(r.data[u]=255,r.data[u+1]=255,r.data[u+2]=255,r.data[u+3]=255)}i.putImageData(r,0,0)}jt(function(l,i){l.eachSeriesByType("wordCloud",function(e){var r=te(e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()}),t=e.get("keepAspect"),g=e.get("maskImage"),u=g?g.width/g.height:1;t&&ue(r,u);var o=e.getData(),x=document.createElement("canvas");x.width=r.width,x.height=r.height;var b=x.getContext("2d");if(g)try{b.drawImage(g,0,0,x.width,x.height),de(x)}catch(F){console.error("Invalid mask image"),console.error(F.toString())}var A=e.get("sizeRange"),W=e.get("rotationRange"),w=o.getDataExtent("value"),k=Math.PI/180,E=e.get("gridSize");et(x,{list:o.mapArray("value",function(F,R){var Y=o.getItemModel(R);return[o.getName(R),Y.get("textStyle.fontSize",!0)||ee(F,w,A),R]}).sort(function(F,R){return R[1]-F[1]}),fontFamily:e.get("textStyle.fontFamily")||e.get("emphasis.textStyle.fontFamily")||l.get("textStyle.fontFamily"),fontWeight:e.get("textStyle.fontWeight")||e.get("emphasis.textStyle.fontWeight")||l.get("textStyle.fontWeight"),gridSize:E,ellipticity:r.height/r.width,minRotation:W[0]*k,maxRotation:W[1]*k,clearCanvas:!g,rotateRatio:1,rotationStep:e.get("rotationStep")*k,drawOutOfBound:e.get("drawOutOfBound"),shrinkToFit:e.get("shrinkToFit"),layoutAnimation:e.get("layoutAnimation"),shuffle:!1,shape:e.get("shape")});function B(F){var R=F.detail.item;F.detail.drawn&&e.layoutInstance.ondraw&&(F.detail.drawn.gx+=r.x/E,F.detail.drawn.gy+=r.y/E,e.layoutInstance.ondraw(R[0],R[1],R[2],F.detail.drawn))}x.addEventListener("wordclouddrawn",B),e.layoutInstance&&e.layoutInstance.dispose(),e.layoutInstance={ondraw:null,dispose:function(){x.removeEventListener("wordclouddrawn",B),x.addEventListener("wordclouddrawn",function(F){F.preventDefault()})}}})});Jt(function(l){var i=(l||{}).series;!Kt(i)&&(i=i?[i]:[]);var e=["shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];bt(i,function(t){if(t&&t.type==="wordCloud"){var g=t.textStyle||{};r(g.normal),r(g.emphasis)}});function r(t){t&&bt(e,function(g){t.hasOwnProperty(g)&&(t["text"+ae(g)]=t[g])})}});function ue(l,i){var e=l.width,r=l.height;e>r*i?(l.x+=(e-r*i)/2,l.width=r*i):(l.y+=(r-e/i)/2,l.height=e/i)}const he=l=>(Xt("data-v-8a8b04dd"),l=l(),Vt(),l),fe={class:"view"},ce=he(()=>J("span",{style:{"margin-left":"5px"}},"退出大屏",-1)),me={class:"echarts_left"},ge={class:"echarts_center"},ve={class:"echarts_right"},pe=Wt({__name:"View",setup(l){const i=Dt(),e=re();Rt(()=>{e.house_Type_list.length===0&&e.get_map_data()});const r={title:{text:"重庆各区域房型关注人数",x:"center",top:"7%"},toolbox:{feature:{magicType:{show:!0,type:["line","bar"],title:{line:"切换为折线图",bar:"切换为柱状图"}},restore:{show:!0,title:"还原"},saveAsImage:{show:!0,title:"保存为图片"}},top:"2%"},dataZoom:[{type:"inside"},{type:"slider"}],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",name:"house_type",data:e.house_Type_list,axisTick:{alignWithLabel:!0}},yAxis:{},series:[{name:"关注人数",type:"bar",barWidth:"60%",data:e.type_view__num,order:"desc",markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]},markLine:{data:[{type:"average",name:"平均值"}]}}]},t={title:{text:"重庆各区域房屋概况",left:"center",top:"5%"},series:[{name:"房屋总价",type:"map",map:"CQ",label:{show:!0},roam:!0,data:e.total_price_list,itemStyle:{areaColor:"#ddffdd"}},{name:"房屋单价",type:"map",map:"CQ",label:{show:!0},roam:!0,data:e.single_price_list,itemStyle:{areaColor:"#ccc"}},{name:"关注人数",type:"map",map:"CQ",label:{show:!0},roam:!0,data:e.view_num_list,itemStyle:{areaColor:"#ffdddd"}}],toolbox:{feature:{restore:{show:!0,title:"还原"},saveAsImage:{show:!0,title:"保存为图片"}},top:"2%"},visualMap:{min:4e3,max:1e4,left:"15%",text:["High","Low"],realtime:!1,calculable:!0,inRange:{color:["lightskyblue","yellow","orangered"]}},tooltip:{trigger:"item",formatter:function(x){let b=x.name+"<br/>";return t.series.forEach(function(A){if(A.data&&A.data.length>0){const W=A.data.find(function(w){return w.name===x.name});if(W){let w="";switch(A.name){case"房屋总价":w="万元";break;case"房屋单价":w="元";break;case"关注人数":w="人";break}b+=A.name+" : "+W.value+w+"<br/>"}}}),b}}},g={title:{text:"重庆在售各房屋朝向类型数量TOP30",left:"center",top:"10%"},tooltip:{show:!0},toolbox:{feature:{restore:{show:!0,title:"还原"},saveAsImage:{show:!0,title:"保存为图片"}},top:"2%"},series:[{type:"wordCloud",gridSize:8,rotationStep:45,shape:"pentagon",width:"100%",height:"100%",drawOutOfBound:!1,textStyle:{normal:{color:function(){return"rgb("+Math.round(Math.random()*255)+", "+Math.round(Math.random()*255)+", "+Math.round(Math.random()*255)+")"}},emphasis:{shadowBlur:10,shadowColor:"#333"}},data:e.toward_list}]},u={title:{text:"重庆各建筑类型房屋的平均总价",left:"center",top:"5%"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c}万元 ({d}%)"},toolbox:{feature:{restore:{show:!0,title:"还原"},saveAsImage:{show:!0,title:"保存为图片"}},top:"2%"},series:[{name:"平均总价",type:"funnel",left:"10%",top:60,bottom:60,width:"80%",min:0,max:100,minSize:"0%",maxSize:"100%",sort:"ascending",gap:2,label:{show:!0,position:"inside"},labelLine:{length:10,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{fontSize:20}},data:e.building_type_list}]},o={title:{text:"重庆在售各装修类型的房屋单价",left:"center",top:"10%"},toolbox:{feature:{restore:{show:!0,title:"还原"},saveAsImage:{show:!0,title:"保存为图片"}},top:"10%"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c}元/m2   ({d}%)"},legend:{orient:"vertical",left:"left",top:"20%"},series:[{name:"单价",type:"pie",radius:"50%",data:e.decoration_list,roseType:"area",emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};return(x,b)=>{const A=_t("el-icon"),W=_t("el-tooltip");return q(),Lt("div",fe,[ht(W,{class:"box-item",effect:"light",content:"点击退出",placement:"bottom"},{default:yt(()=>[J("div",{class:"exit",onClick:b[0]||(b[0]=w=>V(e).exit(V(i)))},[ht(A,null,{default:yt(()=>[ht(V(Bt))]),_:1}),ce])]),_:1}),J("div",me,[V(e).echarts_show?(q(),Q(j,{key:0,options:r,style:{height:"50%",width:"100%"},theme:"dark"})):U("",!0),V(e).echarts_show?(q(),Q(j,{key:1,options:u,style:{height:"50%",width:"100%"},theme:"dark"})):U("",!0)]),J("div",ge,[V(e).echarts_show?(q(),Q(j,{key:0,options:t,style:{height:"100%",width:"100%"},theme:"dark"})):U("",!0)]),J("div",ve,[V(e).echarts_show?(q(),Q(j,{key:0,options:g,style:{height:"50%",width:"100%"},theme:"dark"})):U("",!0),V(e).echarts_show?(q(),Q(j,{key:1,options:o,style:{height:"50%",width:"100%"},theme:"dark"})):U("",!0)])])}}}),be=ie(pe,[["__scopeId","data-v-8a8b04dd"]]);export{be as default};
