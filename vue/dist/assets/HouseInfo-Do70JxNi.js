import{_ as s}from"./Echarts.vue_vue_type_script_setup_true_lang-C15Pbvov.js";import{v as _,d,x as u,q as y,e as g,w as f,b as w,o as a,f as r,c as l,y as n}from"./index-CplolMp0.js";import{r as x}from"./request-IMNDnQFT.js";import{_ as b}from"./_plugin-vue_export-helper-DlAUqK2U.js";const v=_("HouseInfo",{state:()=>({city_list:[],total_price_list:[],single_price_list:[],view_num_list:[],decoration_view_list:[],house_type_list:[],type_list:[],chartShow:!1}),actions:{async get_analysis_list(){const c={Authorization:localStorage.getItem("token")},e=(await x.get("app/analysis/",{headers:c})).data;if(e.code===200){for(let i in e.area)this.city_list.push(e.area[i].city),this.total_price_list.push(Math.round(e.area[i].total_price)),this.single_price_list.push(Math.round(e.area[i].single_price)),this.view_num_list.push(e.area[i].view_num);for(let i in e.decoration){const o={};o.name=e.decoration[i].decoration,o.value=e.decoration[i].view_num,this.type_list.push(e.decoration[i].decoration),this.decoration_view_list.push(o)}for(let i in e.house_type){const o={};o.name=e.house_type[i].house_type,o.value=e.house_type[i].view_num,this.house_type_list.push(o)}this.chartShow=!0}else console.log("查询失败")}}}),S={class:"house-info"},k=d({__name:"HouseInfo",setup(c){const t=v();u(()=>{t.city_list.length===0&&t.get_analysis_list()});const e={title:{text:"重庆各区域平均房屋总价",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c}万"},xAxis:{data:t.city_list},yAxis:{},series:[{name:"平均总价",type:"bar",data:t.total_price_list,color:"#00BFFF",markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]},markLine:{data:[{type:"average",name:"平均值"}]}}],toolbox:{feature:{magicType:{show:!0,type:["line","bar"],title:{line:"切换为折线图",bar:"切换为柱状图"}},restore:{show:!0,title:"还原"},saveAsImage:{show:!0,title:"保存为图片"}},right:"10%"},dataZoom:[{type:"inside"},{type:"slider"}]},i={title:{text:"重庆各区域房屋平均房屋单价",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c}元"},xAxis:{data:t.city_list},yAxis:{},series:[{name:"平均单价",type:"bar",data:t.single_price_list,color:"#FF6600",markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]},markLine:{data:[{type:"average",name:"平均值"}]}}],toolbox:{feature:{magicType:{show:!0,type:["line","bar"],title:{line:"切换为折线图",bar:"切换为柱状图"}},restore:{show:!0,title:"还原"},saveAsImage:{show:!0,title:"保存为图片"}},right:"10%"},dataZoom:[{type:"inside"},{type:"slider"}]},o={title:{text:"重庆各区域房屋关注人数",x:"center"},tooltip:{},xAxis:{data:t.city_list},yAxis:{},series:[{name:"人数",type:"bar",data:t.view_num_list,color:"#7FFF00",markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]},markLine:{data:[{type:"average",name:"平均值"}]}}],toolbox:{feature:{magicType:{show:!0,type:["line","bar"],title:{line:"切换为折线图",bar:"切换为柱状图"}},restore:{show:!0,title:"还原"},saveAsImage:{show:!0,title:"保存为图片"}},right:"10%"},dataZoom:[{type:"inside"},{type:"slider"}]},p={title:{text:"重庆各区域房屋装修程度关注人数",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},toolbox:{feature:{restore:{show:!0,title:"还原"},saveAsImage:{show:!0,title:"保存为图片"}},right:"10%"},legend:{data:t.type_list,left:"10%",orient:"vertical"},series:[{name:"关注人数",type:"funnel",left:"10%",top:60,bottom:60,width:"80%",min:0,max:100,minSize:"0%",maxSize:"100%",sort:"ascending",gap:2,label:{show:!0,position:"inside"},labelLine:{length:10,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{fontSize:20}},data:t.decoration_view_list}]},h={title:{text:"重庆各房屋类型关注人数",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"10%"},toolbox:{feature:{restore:{show:!0,title:"还原"},saveAsImage:{show:!0,title:"保存为图片"}},right:"10%"},series:[{name:"关注人数",type:"pie",radius:"50%",data:t.house_type_list,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};return(A,I)=>{const m=w("el-scrollbar");return a(),y("div",S,[g(m,null,{default:f(()=>[r(t).chartShow?(a(),l(s,{key:0,options:e,chartStyle:"width: 50%;height: 400px"})):n("",!0),r(t).chartShow?(a(),l(s,{key:1,options:i,chartStyle:"width: 50%;height: 400px"})):n("",!0),r(t).chartShow?(a(),l(s,{key:2,options:o,chartStyle:"width: 50%;height: 400px"})):n("",!0),r(t).chartShow?(a(),l(s,{key:3,options:p,chartStyle:"width: 50%;height: 400px"})):n("",!0),r(t).chartShow?(a(),l(s,{key:4,options:h,chartStyle:"width: 50%;height: 400px"})):n("",!0)]),_:1})])}}}),H=b(k,[["__scopeId","data-v-4960c93d"]]);export{H as default};
